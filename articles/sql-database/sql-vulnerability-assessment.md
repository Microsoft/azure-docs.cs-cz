---
title: Posouzení ohrožení zabezpečení SQL – Azure SQL Database | Dokumentace Microsoftu
description: Zjistěte, jak nakonfigurovat a posouzení ohrožení zabezpečení SQL v databázi SQL a interpretovat sestavy posouzení.
services: sql-database
author: ronitr
manager: craigg
ms.service: sql-database
ms.topic: conceptual
ms.date: 05/17/2018
ms.author: ronitr
ms.reviewer: carlrab
ms.openlocfilehash: 031ba903e24530975156976c0f0bbcc985c670d1
ms.sourcegitcommit: 1aedb52f221fb2a6e7ad0b0930b4c74db354a569
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 08/17/2018
ms.locfileid: "42057490"
---
# <a name="sql-vulnerability-assessment"></a>Posouzení ohrožení zabezpečení SQL

Posouzení ohrožení zabezpečení SQL je snadno konfigurovat službu, můžete zjistit, sledovat a umožňují náprava potenciálních ohrožení zabezpečení databáze. Využít k proaktivnímu vylepšení zabezpečení databáze. 

Posouzení ohrožení zabezpečení je součástí [rozšířené ochrany před internetovými útoky SQL](sql-advanced-threat-protection.md) nabídky (ATP), která je jednotný balíček pro pokročilé funkce zabezpečení SQL. Posouzení ohrožení zabezpečení je možné získat přístup k a spravovat prostřednictvím portálu pro centrální ochrany ATP v programu SQL.

## <a name="what-is-vulnerability-assessment"></a>Co je posouzení ohrožení zabezpečení?
Posouzení ohrožení zabezpečení SQL (VA) je služba, která poskytuje přehled o stavu vašeho zabezpečení a zahrnuje praktické kroky, jak vyřešit problémy se zabezpečením a Vylepšete svoje zabezpečení databáze. Může vám pomoct:  
- Splnění požadavků na dodržování předpisů, které vyžadují sestavy výstupu kontroly databáze.  
- Splňovat standardy ochrany osobních údajů data.  
- Monitorování databáze dynamické prostředí, kde je obtížné sledovat změny.  

Posouzení ohrožení zabezpečení je kontrolní služba integrovaná do služby Azure SQL Database. Služba využívá znalostní bázi pravidel, která příznak ohrožení zabezpečení a zvýraznit odchylky od osvědčených postupů, jako jsou chybné konfigurace, nadměrná oprávnění a nechráněné citlivá data. Pravidla jsou založené na osvědčených postupech a zaměřit se na problémy se zabezpečením, které představovat největší rizika pro vaši databázi a její cenná data společnosti Microsoft. Pokrývají problémy na úrovni databáze i problémy zabezpečení na úrovni serveru, jako je nastavení brány firewall serveru a oprávnění na úrovni serveru. Tato pravidla také představovat mnoho požadavků z různých správními orgány podle jejich standardy pro dodržování předpisů.  

Výsledky kontroly zahrnují praktické kroky k vyřešení jednotlivých problémů a poskytovat skripty pro nápravu přizpůsobené, kde je to možné. Sestavu posouzení může přizpůsobit pro vaše prostředí přijatelná směrného plánu konfigurace oprávnění, funkce Konfigurace a nastavení databáze.   

## <a name="implementing-va"></a>Implementaci posouzení ohrožení zabezpečení  
Následující kroky implementace posouzení ohrožení zabezpečení v SQL Database.  

## <a name="1-run-a-scan"></a>1. Spustit kontrolu  
Začínáme s posouzení ohrožení zabezpečení tak, že přejdete do **Advanced Threat Protection** v záhlaví zabezpečení v podokně pro Azure SQL Database. Klikněte na tlačítko se povolit rozšířenou ochranu před internetovými útoky a potom klikněte na **sken posouzení ohrožení zabezpečení** karty, které se automaticky otevře karta nastavení posouzení ohrožení zabezpečení. 

Začněte tím, že nakonfigurujete účet úložiště, kam se budou ukládat vaše výsledky kontroly. Informace o účtech úložiště najdete v tématu [účty Azure storage](../storage/common/storage-create-storage-account.md). Jakmile je úložiště nastavené, klepněte na tlačítko **kontrolovat** kontrola ohrožení zabezpečení databáze.
  
![Kontrola databáze](./media/sql-vulnerability-assessment/pp_va_initialize.png)  
  > [!NOTE]   
  > Kontrola je jednoduchý a bezpečný. Trvá několik sekund, pokud chcete spustit a je výhradně jen pro čtení. Neprovede žádné změny k vaší databázi.  

## <a name="2-view-the-report"></a>2. Zobrazit zprávu  
Po dokončení hledání se sestava kontroly se automaticky zobrazí na webu Azure Portal. Sestava zobrazí přehled o stavu vašeho zabezpečení: nebyly nalezeny kolik problémů a jejich odpovídajících závažnosti. Výsledky obsahují upozornění na odchylky od osvědčených postupů a snímek nastavení související se zabezpečením, jako je například objektech zabezpečení databáze a rolích a jejich příslušná oprávnění. Sestava kontroly také obsahuje mapování citlivá data v databázi a zahrnuje doporučení ke klasifikaci dat pomocí [zjišťování a klasifikace dat](sql-database-data-discovery-and-classification.md). 
 
![Zobrazit zprávu](./media/sql-vulnerability-assessment/pp_main_getstarted.png)  

## <a name="3-analyze-the-results-and-resolve-issues"></a>3. Analyzujte výsledky a vyřešte problémy  
Prohlédněte si výsledky a určete zjištění v sestavě, která jsou problémy se zabezpečením true ve vašem prostředí. Každé neúspěšné výsledek na vědomí následky zjištění a proč každý kontrola zabezpečení selhala, k podrobnostem. Užitečné nápravu na základě informací poskytnutých sestavy použijte k vyřešení daného problému.  

![Analýza sestavy](./media/sql-vulnerability-assessment/pp_fail_rule_show_remediation.png)    

## <a name="4-set-your-baseline"></a>4. Nastavit standardní hodnoty  
Při revizi výsledků posouzení, můžete označit konkrétní výsledky jako přijatelné *směrného plánu* ve vašem prostředí. V podstatě přizpůsobit způsob hlášení výsledků je směrný plán. Výsledky, které odpovídají směrného plánu se považují za předání dalších kontrol. Jakmile ověříte svůj stav standardních hodnot zabezpečení, podává zprávy pouze na odchylky od standardních hodnot posouzení ohrožení zabezpečení a vy mohli zaměřit na příslušné otázky vaši pozornost.  

![Nastavit standardní hodnoty](./media/sql-vulnerability-assessment/pp_fail_rule_show_baseline.png)  

## <a name="5-run-a-new-scan-to-see-your-customized-tracking-report"></a>5. Spusťte nové skenování zobrazíte sestavu vlastní sledování  
Po dokončení nastavení si vaše **pravidlo standardní hodnoty**, spusťte nové skenování k zobrazení přizpůsobené sestavy. Posouzení ohrožení zabezpečení nyní hlásí že pouze zabezpečení vydá této odchylku ze stavu vaší schválené základní hodnotě. 
 
![Zobrazit přizpůsobené sestavy](./media/sql-vulnerability-assessment/pp_pass_main_with_baselines.png)  

Posouzení ohrožení zabezpečení můžete teď použít k monitorování, že vaše databáze zajišťuje vysokou úroveň zabezpečení za všech okolností a zda jsou splněny zásady vaší organizace. Pokud potřebujete sestavy dodržování předpisů, sestavy posouzení ohrožení zabezpečení může být užitečné k usnadnění procesu dodržování předpisů.  

## <a name="6-set-up-periodic-recurring-scans"></a>6. Nastavení pravidelné opakované kontroly
Přejděte do nastavení posouzení ohrožení zabezpečení zapnout **pravidelné opakované kontroly**. Tím se nakonfiguruje posouzení ohrožení zabezpečení pro automatické spouštění kontroly na databázi jednou za týden. Souhrn výsledků kontroly se pošle na e-mailové adresy, které zadáte.

![Zobrazit přizpůsobené sestavy](./media/sql-vulnerability-assessment/pp_recurring_scans.png)

## <a name="7---export-an-assessment-report"></a>7.   Exportovat sestavu posouzení
Klikněte na tlačítko **exportovat výsledky prohledávání** vytvoření výsledku kontroly ke stažení sestavy aplikace Excel. Tato sestava obsahuje souhrn zobrazuje souhrn hodnocení, včetně všech neúspěšné kontroly. Zahrnuje také **výsledky** obsahující úplnou sadu výsledků kontroly, včetně všech kontrol, které byly spuštění a podrobnosti výsledku pro každou kartu. 

## <a name="8---view-scan-history"></a>8.   Zobrazit historii kontroly
Klikněte na tlačítko **Prohledat historii** v podokně posouzení ohrožení zabezpečení, chcete-li zobrazit historii všech kontrol dříve spustili na tuto databázi. Vyberte konkrétní kontroly v seznamu chcete zobrazit podrobné výsledky této kontroly.

Posouzení ohrožení zabezpečení můžete teď použít k monitorování, že vaše databáze zajišťuje vysokou úroveň zabezpečení za všech okolností a zda jsou splněny zásady vaší organizace. Pokud potřebujete sestavy dodržování předpisů, sestavy posouzení ohrožení zabezpečení může být užitečné k usnadnění procesu dodržování předpisů.

## <a name="manage-vulnerability-assessments-using-azure-powershell"></a>Správa posouzení ohrožení zabezpečení pomocí Azure Powershellu

Můžete použít rutiny prostředí Azure PowerShell můžete programově spravovat vaše posouzení ohrožení zabezpečení. Jsou podporované rutiny:

* [Aktualizace AzureRmSqlDatabaseVulnerabilityAssessmentSettings](https://docs.microsoft.com/powershell/module/azurerm.sql/Update-AzureRmSqlDatabaseVulnerabilityAssessmentSettings?view=azurermps-6.6.0) – aktualizace nastavení posouzení ohrožení zabezpečení databáze
* [Get-AzureRmSqlDatabaseVulnerabilityAssessmentSettings](https://docs.microsoft.com/powershell/module/azurerm.sql/Get-AzureRmSqlDatabaseVulnerabilityAssessmentSettings?view=azurermps-6.6.0) vrátí chybu nastavení posouzení databáze
* [Vymazat AzureRmSqlDatabaseVulnerabilityAssessmentSettings](https://docs.microsoft.com/powershell/module/azurerm.sql/Clear-AzureRmSqlDatabaseVulnerabilityAssessmentSettings?view=azurermps-6.6.0) zrušte nastavení posouzení ohrožení zabezpečení databáze
* [Set-AzureRmSqlDatabaseVulnerabilityAssessmentRuleBaseline](https://docs.microsoft.com/powershell/module/azurerm.sql/Set-AzureRmSqlDatabaseVulnerabilityAssessmentRuleBaseline?view=azurermps-6.6.0) nastaví základní pravidlo posouzení ohrožení zabezpečení.
* [Get-AzureRmSqlDatabaseVulnerabilityAssessmentRuleBaseline](https://docs.microsoft.com/powershell/module/azurerm.sql/Get-AzureRmSqlDatabaseVulnerabilityAssessmentRuleBaseline?view=azurermps-6.6.0) získá základní pravidlo posouzení ohrožení zabezpečení pro dané pravidlo.
* [Vymazat AzureRmSqlDatabaseVulnerabilityAssessmentRuleBaseline](https://docs.microsoft.com/powershell/module/azurerm.sql/Clear-AzureRmSqlDatabaseVulnerabilityAssessmentRuleBaseline?view=azurermps-6.6.0) vymaže základní pravidlo posouzení ohrožení zabezpečení. Před použitím této rutiny zrušte nejprve nastavte směrného plánu.
* [Start-AzureRmSqlDatabaseVulnerabilityAssessmentScan](https://docs.microsoft.com/powershell/module/azurerm.sql/Start-AzureRmSqlDatabaseVulnerabilityAssessmentScan?view=azurermps-6.6.0) aktivuje spuštění kontroly posouzení ohrožení zabezpečení
* [Get-AzureRmSqlDatabaseVulnerabilityAssessmentScanRecord](https://docs.microsoft.com/powershell/module/azurerm.sql/Get-AzureRmSqlDatabaseVulnerabilityAssessmentScanRecord?view=azurermps-6.6.0) získá všechna ohrožení zabezpečení posouzení kontroly záznamy spojené s danou databází.
* [Převést AzureRmSqlDatabaseVulnerabilityAssessmentScan](https://docs.microsoft.com/powershell/module/azurerm.sql/Convert-AzureRmSqlDatabaseVulnerabilityAssessmentScan?view=azurermps-6.6.0) převede výsledky skenu posouzení ohrožení zabezpečení do Excelového souboru


Ukázkový skript, naleznete v tématu [podporu prostředí PowerShell posouzení ohrožení zabezpečení Azure SQL](https://blogs.msdn.microsoft.com/sqlsecurity/2018/08/02/azure-sql-vulnerability-assessment-now-with-powershell-support/).


## <a name="next-steps"></a>Další postup  

- Další informace o [SQL Advanced Threat Protection](sql-advanced-threat-protection.md)
- Další informace o [zjišťování a klasifikace dat](sql-database-data-discovery-and-classification.md)
