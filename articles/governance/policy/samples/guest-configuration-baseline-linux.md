---
title: Referenční směrný plán konfigurace hosta Azure Policy pro Linux
description: Podrobnosti o směrném plánu Linux v Azure implementovaném pomocí Azure Policy konfiguraci hostů.
ms.date: 03/12/2021
ms.topic: reference
ms.custom: generated
ms.openlocfilehash: 6b1d3048fdc0945e1ee64e211d2f7b1f9de5e6e6
ms.sourcegitcommit: f28ebb95ae9aaaff3f87d8388a09b41e0b3445b5
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/30/2021
ms.locfileid: "103419860"
---
# <a name="azure-policy-guest-configuration-baseline-for-linux"></a>Azure Policy směrného plánu konfigurace hosta pro Linux

Následující článek podrobně popisuje, co **\[ \] by počítače se systémem Linux ve verzi Preview měly splňovat požadavky pro** audity definic zásad konfigurace hostů pro základní nastavení zabezpečení Azure. Další informace najdete v tématu [Azure Policy konfigurace hostů](../concepts/guest-configuration.md) a [Přehled srovnávacích testů zabezpečení Azure (v2)](../../../security/benchmarks/overview.md).

## <a name="general-security-controls"></a>Obecné ovládací prvky zabezpečení

|Name<br /><sub>ÚČET</sub> |Podrobnosti |Kontrolu nápravy |
|---|---|---|
|Zajistěte, aby byla pro oddíl/Home nastavena možnost nodev.<br /><sub>1.1.4</sub> |Popis: Útočník by mohl připojit speciální zařízení (například blokové nebo znakové zařízení) v oddílu/Home. |Upravte soubor/etc/fstab a nodev čtvrté pole (možnosti připojení) pro oddíl/Home. Další informace najdete v části ruční stránky fstab (5). |
|Zajistěte, aby byla pro oddíl adresáře/TMP nastavena možnost nodev.<br /><sub>1.1.5</sub> |Popis: Útočník by mohl připojit speciální zařízení (například blokové nebo znakové zařízení) v oddílu adresáře/TMP. |Upravte soubor/etc/fstab a nodev čtvrté pole (možnosti připojení) pro oddíl adresáře/TMP. Další informace najdete v části ruční stránky fstab (5). |
|Zajistěte, aby byla pro oddíl/var/tmp nastavena možnost nodev.<br /><sub>(1.1.6)</sub> |Popis: Útočník by mohl připojit speciální zařízení (například blokové nebo znakové zařízení) v oddílu/var/tmp. |Upravte soubor/etc/fstab a nodev čtvrté pole (možnosti připojení) pro oddíl/var/tmp. Další informace najdete v části ruční stránky fstab (5). |
|Zajistěte, aby byla pro oddíl adresáře/TMP nastavena možnost nosuid.<br /><sub>1.1.7</sub> |Popis: vzhledem k tomu, že systém souborů adresáře/TMP je určený jenom pro dočasné úložiště souborů, nastavte tuto možnost, aby uživatelé nemohly vytvářet soubory setuid v/var/tmp.. |Upravte soubor/etc/fstab a nosuid čtvrté pole (možnosti připojení) pro oddíl adresáře/TMP. Další informace najdete v části ruční stránky fstab (5). |
|Zajistěte, aby byla pro oddíl/var/tmp nastavena možnost nosuid.<br /><sub>1.1.8</sub> |Popis: vzhledem k tomu, že systém souborů/var/tmp je určený jenom pro dočasné úložiště souborů, nastavte tuto možnost, aby uživatelé nemohly vytvářet soubory setuid v/var/tmp.. |Upravte soubor/etc/fstab a nosuid čtvrté pole (možnosti připojení) pro oddíl/var/tmp. Další informace najdete v části ruční stránky fstab (5). |
|Zajistěte, aby byla v oddílu/var/tmp nastavena možnost Exec.<br /><sub>1.1.9</sub> |Popis: vzhledem k tomu, `/var/tmp` že systém souborů je určený jenom pro dočasné úložiště souborů, nastavte tuto možnost, aby uživatelé nemůžou spouštět spustitelné binární soubory z `/var/tmp` . |Upravte soubor/etc/fstab a přidejte do čtvrtého pole (možnosti připojení) pro oddíl/var/tmp možnost neexec. Další informace najdete v části ruční stránky fstab (5). |
|Zajistěte, aby byla v oddílu/dev/shm nastavena možnost Exec.<br /><sub>(1.1.16)</sub> |Popis: nastavení této možnosti v systému souborů znemožní uživatelům spouštět programy ze sdílené paměti. Tím se uživatelům zabrání v zavedení potenciálně škodlivého softwaru do systému. |Upravte soubor/etc/fstab a přidejte do čtvrtého pole (možnosti připojení) pro oddíl/dev/shm možnost neexec. Další informace najdete v části ruční stránky fstab (5). |
|Zakázat automount<br /><sub>(1.1.21)</sub> |Popis: s povoleným autopřipojením může kdokoli s fyzickým přístupem připojit jednotku USB nebo disk a zpřístupnit jeho obsah v systému i v případě, že nemají oprávnění k jeho připojení. |Zakažte službu AutoFS nebo spusťte rutinu/opt/Microsoft/omsagent/plugin/omsremediate-r Disable-autofs. |
|Zajistěte, aby připojení zařízení úložiště USB bylo zakázané.<br /><sub>(1.1.21.1)</sub> |Popis: odebrání podpory pro paměťové zařízení USB omezuje místní prostor pro útoky na server. |Upravte nebo vytvořte soubor v `/etc/modprobe.d/` adresáři končícím na. conf a přidejte a `install usb-storage /bin/true` pak uvolněte modul USB-Storage nebo spusťte příkaz/opt/Microsoft/omsagent/plugin/omsremediate-r Disable-zbytečný-kernel-mods. |
|Ujistěte se, že jsou základní výpisy paměti omezené.<br /><sub>1.5.1</sub> |Popis: nastavení vynuceného limitu pro základní výpisy paměti brání uživatelům v přepsání měkké proměnné. Pokud se vyžadují základní výpisy paměti, zvažte nastavení omezení pro skupiny uživatelů (viz `limits.conf(5)` ). Kromě toho nastavení `fs.suid_dumpable` proměnné na hodnotu 0 znemožní programům setuid z dumpingového jádra. |Přidejte `hard core 0` do/etc/Security/Limits.conf nebo do souboru v adresáři Limits. d a nastavte `fs.suid_dumpable = 0` v sysctl nebo spusťte/opt/Microsoft/omsagent/plugin/omsremediate-r Disable-Core-dumpes. |
|Zajistěte, aby bylo toto připojení zakázané.<br /><sub>(1.5.4)</sub> |Popis: funkce předpojování může kolidovat s operací pomůcku, protože mění binární soubory. Pokud uživatel se zlými úmysly může ohrozit společnou knihovnu, jako je libc, může také dojít k ohrožení zabezpečení systému. |odinstalujte ji `prelink` pomocí Správce balíčků nebo spusťte příkaz "/opt/Microsoft/omsagent/plugin/omsremediate-r Remove-Link". |
|Zajistěte, aby byla nakonfigurovaná oprávnění pro/etc/motd.<br /><sub>(1.7.1.4)</sub> |Popis: Pokud `/etc/motd` soubor nemá správné vlastnictví, mohl by být upravený neautorizovanými uživateli s nesprávnými nebo zavádějícími informacemi. |Nastavte vlastníka a skupinu/etc/motd na root a nastavte oprávnění na 0644 nebo spusťte/opt/Microsoft/omsagent/plugin/omsremediate-r File-Permissions. |
|Zajistěte, aby byla nakonfigurovaná oprávnění pro/etc/issue.<br /><sub>(1.7.1.5)</sub> |Popis: Pokud `/etc/issue` soubor nemá správné vlastnictví, mohl by být upravený neautorizovanými uživateli s nesprávnými nebo zavádějícími informacemi. |Nastavte vlastníka a skupinu/etc/Issue na root a nastavte oprávnění na 0644 nebo spusťte/opt/Microsoft/omsagent/plugin/omsremediate-r File-Permissions. |
|Zajistěte, aby byla nakonfigurovaná oprávnění pro/etc/issue.NET.<br /><sub>(1.7.1.6)</sub> |Popis: Pokud `/etc/issue.net` soubor nemá správné vlastnictví, mohl by být upravený neautorizovanými uživateli s nesprávnými nebo zavádějícími informacemi. |Nastavte vlastníka a skupinu/etc/issue.NET na root a nastavte oprávnění na 0644 nebo spusťte/opt/Microsoft/omsagent/plugin/omsremediate-r File-Permissions. |
|Možnost nodev by měla být povolená pro všechna vyměnitelná média.<br /><sub>(2,1)</sub> |Popis: Útočník by mohl připojit speciální zařízení (například blokové nebo znakové zařízení) prostřednictvím vyměnitelného média. |Přidání možnosti nodev do čtvrtého pole (možnosti připojení) v/etc/fstab |
|Možnost exec by měla být povolená pro všechna vyměnitelná média.<br /><sub>(2,2)</sub> |Popis: Útočník by mohl načíst spustitelný soubor prostřednictvím vyměnitelného média. |Přidejte možnost neexec do čtvrtého pole (možnosti připojení) v/etc/fstab |
|Možnost nosuid by měla být povolená pro všechna vyměnitelná média.<br /><sub>(2,3)</sub> |Popis: Útočník by mohl načíst soubory, které se spouštějí s vyšším kontextem zabezpečení prostřednictvím vyměnitelného média. |Přidání možnosti nosuid do čtvrtého pole (možnosti připojení) v/etc/fstab |
|Ujistěte se, že není nainstalován klient s rozhovorem.<br /><sub>2.3.3</sub> |Popis: software prezentuje bezpečnostní riziko, protože používá pro komunikaci nešifrované protokoly. |Odinstalujte `talk`  nebo spusťte příkaz "/opt/Microsoft/omsagent/plugin/omsremediate-r Remove-hovořit" |
|Zajistěte, aby byla nakonfigurovaná oprávnění pro/etc/hosts.Allow.<br /><sub>(3.4.4)</sub> |Popis: je důležité zajistit, aby byl `/etc/hosts.allow` soubor chráněn před neoprávněným přístupem pro zápis. I když je ve výchozím nastavení chráněná, může se oprávnění k souborům změnit buď omylem, nebo prostřednictvím škodlivých akcí. |Nastavte vlastníka a skupinu/etc/hosts.Allow na root a oprávnění 0644 nebo spusťte/opt/Microsoft/omsagent/plugin/omsremediate-r File-Permissions. |
|Zajistěte, aby byla nakonfigurovaná oprávnění pro/etc/hosts.Deny.<br /><sub>(3.4.5)</sub> |Popis: je důležité zajistit, aby byl `/etc/hosts.deny` soubor chráněn před neoprávněným přístupem pro zápis. I když je ve výchozím nastavení chráněná, může se oprávnění k souborům změnit buď omylem, nebo prostřednictvím škodlivých akcí. |Nastavte vlastníka a skupinu/etc/hosts.Deny na root a oprávnění 0644 nebo spusťte/opt/Microsoft/omsagent/plugin/omsremediate-r File-Permissions. |
|Zajistěte výchozí zásadu odepřít bránu firewall.<br /><sub>3.6.2</sub> |Popis: u výchozí zásady přijetí bude brána firewall přijímat všechny pakety, které nejsou nakonfigurované na odepření. Zabezpečenou bránu firewall je snazší udržovat s výchozí zásadou vyřazení, než je výchozí zásada povolení. |Nastavte výchozí zásady pro příchozí, odchozí a směrované přenosy na `deny` nebo `reject` podle potřeby pomocí softwaru brány firewall. |
|Možnost nodev/nosuid by měla být povolená pro všechna připojení systému souborů NFS.<br /><sub>čl</sub> |Popis: Útočník by mohl načíst soubory, které se spouštějí s vyšším kontextem zabezpečení nebo speciálními zařízeními prostřednictvím vzdáleného systému souborů. |Přidejte možnosti nosuid a nodev do čtvrtého pole (možnosti připojení) v/etc/fstab |
|Ujistěte se, že jsou nakonfigurované požadavky na vytváření hesel.<br /><sub>5.3.1</sub> |Popis: silná hesla chrání systémy před útoky prostřednictvím metod hrubou silou. |Nastavte následující páry klíč/hodnota v příslušném PAM pro váš distribuce: minlen = 14, minclass = 4, dcredit =-1, ucredit =-1, ocredit =-1, lcredit =-1 nebo spusťte rutinu/opt/Microsoft/omsagent/plugin/omsremediate-r Enable-Password-požadavky. |
|Zkontrolujte, jestli je nakonfigurované uzamčení pro neúspěšné pokusy o zadání hesla.<br /><sub>5.3.2</sub> |Popis: odblokování ID uživatelů po `n` neúspěšném po sobě jdoucích pokusů o přihlášení zmírnit útoky hrubou silou hesla na vaše systémy. |v případě Ubuntu a Debian přidejte podle potřeby moduly pam_tally a pam_deny. Další distribuce najdete v dokumentaci k distribuce. |
|Zakázat instalaci a použití systémů souborů, které nejsou povinné (CramFS)<br /><sub>(6,1)</sub> |Popis: Útočník by mohl použít chybu zabezpečení v CramFS ke zvýšení oprávnění. |Přidejte soubor do adresáře/etc/modprob.d, který zakáže CramFS, nebo spusťte příkaz '/opt/Microsoft/omsagent/plugin/omsremediate-r Disable-zbytečný-kernel-mods '. |
|Zakázat instalaci a použití systémů souborů, které nejsou povinné (freevxfs)<br /><sub>(6,2)</sub> |Popis: Útočník by mohl použít chybu zabezpečení v freevxfs ke zvýšení oprávnění. |Přidejte soubor do adresáře/etc/modprob.d, který zakáže freevxfs, nebo spusťte příkaz '/opt/Microsoft/omsagent/plugin/omsremediate-r Disable-zbytečný-kernel-mods '. |
|Zajistěte, aby existovaly domovské adresáře všech uživatelů<br /><sub>(6.2.7)</sub> |Popis: Pokud domovský adresář uživatele neexistuje nebo je nepřiřazený, bude uživatel umístěný na '/' a nebude moci zapisovat žádné soubory nebo mít nastavené místní proměnné prostředí. |Pokud domovské adresáře uživatele neexistují, vytvořte je a ujistěte se, že tento adresář vlastní příslušný uživatel. Uživatelé bez přiřazeného domovského adresáře by měli být podle potřeby odebráni nebo přidělili domovskému adresáři. |
|Zajistěte, aby si uživatelé vlastní domovské adresáře.<br /><sub>(6.2.9)</sub> |Popis: vzhledem k tomu, že je uživatel účet pro soubory uložené v domovském adresáři uživatele, musí být uživatel vlastníkem adresáře. |Změňte vlastnictví všech domovských adresářů, které nejsou ve vlastnictví definovaného uživatele, na správného uživatele. |
|Ujistěte se, že soubory s tečkou uživatele nejsou ve skupině ani do světa zapisovatelné.<br /><sub>(6.2.10)</sub> |Popis: skupina nebo uživatelské konfigurační soubory s možností zápisu můžou uživatelům se zlými úmysly ukrást nebo upravovat data jiných uživatelů nebo získat systémová oprávnění jiného uživatele. |Globální změny souborů uživatelů bez upozorňování komunity uživatelů můžou mít za následek neočekávané výpadky a nespokojenost uživatelů. Proto doporučujeme, aby se navázaly zásady monitorování, které budou oznamovat oprávnění k souborům koncových bodů uživatele, a určí akci, která má být provedena v souladu se zásadami lokality. |
|Ujistěte se, že žádní uživatelé nemají. předávané soubory.<br /><sub>(6.2.11)</sub> |Popis: použití `.forward` souboru představuje bezpečnostní riziko v tom, že citlivé údaje mohou být neúmyslně přeneseny mimo organizaci. `.forward`Soubor také představuje riziko, které lze použít ke spuštění příkazů, které mohou provádět nezamýšlené akce. |Globální změny souborů uživatelů bez upozorňování komunity uživatelů můžou mít za následek neočekávané výpadky a nespokojenost uživatelů. Proto doporučujeme, abyste nahlásili zásady monitorování pro vytváření sestav uživatelských `.forward` souborů a určili akci, která má být provedena v souladu se zásadami lokality. |
|Ujistěte se, že žádní uživatelé nemají soubory. netrc.<br /><sub>(6.2.12)</sub> |Popis: Tento `.netrc` soubor představuje významné bezpečnostní riziko, protože ukládá hesla v nezašifrované podobě. I když je server FTP zakázaný, uživatelské účty můžou přenášet `.netrc` soubory z jiných systémů, které by mohly představovat riziko pro tyto systémy. |Globální změny souborů uživatelů bez upozorňování komunity uživatelů můžou mít za následek neočekávané výpadky a nespokojenost uživatelů. Proto doporučujeme, abyste nahlásili zásady monitorování pro vytváření sestav uživatelských `.netrc` souborů a určili akci, která má být provedena v souladu se zásadami lokality. |
|Ujistěte se, že žádní uživatelé nemají soubory. rhosts.<br /><sub>(6.2.14)</sub> |Popis: Tato akce je smysluplná jenom v případě, že `.rhosts` je v souboru povolená podpora `/etc/pam.conf` . I když se `.rhosts` soubory neprojeví, pokud je podpora v systému zakázaná, mohla by `/etc/pam.conf` být převzatá z jiných systémů a můžou obsahovat informace užitečné pro útočníka pro tyto ostatní systémy. |Globální změny souborů uživatelů bez upozorňování komunity uživatelů můžou mít za následek neočekávané výpadky a nespokojenost uživatelů. Proto doporučujeme, abyste nahlásili zásady monitorování pro vytváření sestav uživatelských `.rhosts` souborů a určili akci, která má být provedena v souladu se zásadami lokality. |
|Zajistěte, aby všechny skupiny v/etc/passwd existovaly v/etc/Group.<br /><sub>(6.2.15)</sub> |Popis: skupiny, které jsou definované v souboru/etc/passwd, ale ne v souboru/etc/Group, představují hrozbu zabezpečení systému, protože oprávnění skupiny nejsou správně spravovaná. |Pro každou skupinu definovanou v/etc/passwd zajistěte, aby v/etc/Group byla odpovídající skupina. |
|Ujistěte se, že neexistují žádné duplicitní identifikátory UID.<br /><sub>(6.2.16)</sub> |Popis: uživatelům musí být přiřazena jedinečná UID pro zodpovědnost a zajistit správnou ochranu přístupu. |Navažte jedinečné identifikátory UID a zkontrolujte všechny soubory vlastněné sdílenými identifikátory UID a určete, ke kterému UID by se měly patřit. |
|Zajistěte, aby neexistovaly žádné duplicitní GIDs<br /><sub>(6.2.17)</sub> |Popis: skupinám musí být přiřazena jedinečná GIDsa pro zodpovědnost a zajistit odpovídající ochranu přístupu. |Vytvořte jedinečné GIDs a zkontrolujte všechny soubory vlastněné sdíleným GIDs a určete, do které skupiny by se měly patřit. |
|Ujistěte se, že neexistují žádná duplicitní uživatelská jména.<br /><sub>(6.2.18)</sub> |Popis: Pokud se uživateli přiřadí duplicitní uživatelské jméno, vytvoří se a bude mít přístup k souborům s prvním UID pro dané uživatelské jméno v `/etc/passwd` . Pokud má například ' test4 ' hodnotu UID 1000 a následné zadání ' test4 ' má UID 2000, přihlašování jako ' test4 ' bude používat UID 1000. V podstatě se UID sdílí, což je bezpečnostní problém. |Vytvořte jedinečná uživatelská jména pro uživatele. Vlastnictví souborů automaticky odrážejí změnu, pokud mají uživatelé jedinečné identifikátory UID. |
|Zajistěte, aby neexistovaly žádné duplicitní skupiny<br /><sub>(6.2.19)</sub> |Popis: Pokud je skupině přiřazený duplicitní název skupiny, vytvoří se a bude mít přístup k souborům s první GID pro tuto skupinu v `/etc/group` . Tato GID je efektivně sdílená, což je bezpečnostní problém. |Pro skupiny uživatelů můžete vytvořit jedinečné názvy. Vlastnictví skupiny souborů automaticky odmítne změnu, pokud mají skupiny jedinečné GIDs. |
|Zajistěte, aby byla Stínová skupina prázdná.<br /><sub>(6.2.20)</sub> |Popis: k souboru/etc/shadow budou mít všichni uživatelé přiřazení ke stínové skupině udělený přístup pro čtení. Pokud útočníci můžou získat přístup pro čtení k `/etc/shadow` souboru, můžou snadno spustit program odhalující hesla proti heslům, aby je přerušil. Další informace o zabezpečení, které jsou uloženy v `/etc/shadow` souboru (například vypršení platnosti), by mohly být užitečné také k převýšení dalších uživatelských účtů. |Odebrat všechny uživatele vytvořit skupinu stínových kopií |
|Zakázat instalaci a použití systémů souborů, které nejsou povinné (HFS)<br /><sub>(6,3)</sub> |Popis: Útočník by mohl použít chybu zabezpečení v HFS ke zvýšení oprávnění. |Přidejte soubor do adresáře/etc/modprob.d, který zakáže HFS, nebo spusťte příkaz '/opt/Microsoft/omsagent/plugin/omsremediate-r Disable-zbytečný-kernel-mods '. |
|Zakázat instalaci a použití systémů souborů, které nejsou povinné (hfsplus)<br /><sub>(6,4)</sub> |Popis: Útočník by mohl použít chybu zabezpečení v hfsplus ke zvýšení oprávnění. |Přidejte soubor do adresáře/etc/modprob.d, který zakáže hfsplus, nebo spusťte příkaz '/opt/Microsoft/omsagent/plugin/omsremediate-r Disable-zbytečný-kernel-mods '. |
|Zakázat instalaci a použití systémů souborů, které nejsou povinné (JFFS2)<br /><sub>(6,5)</sub> |Popis: Útočník by mohl použít chybu zabezpečení v JFFS2 ke zvýšení oprávnění. |Přidejte soubor do adresáře/etc/modprob.d, který zakáže JFFS2, nebo spusťte příkaz '/opt/Microsoft/omsagent/plugin/omsremediate-r Disable-zbytečný-kernel-mods '. |
|Jádra by se měly kompilovat jenom ze schválených zdrojů.<br /><sub>10pruhový</sub> |Popis: jádro z neschváleného zdroje může obsahovat chyby zabezpečení nebo zástupné dveře pro udělení přístupu útočníkovi. |Nainstalujte jádro poskytované vaším dodavatelem distribuce. |
|oprávnění k souboru/etc/shadow by měla být nastavená na 0400.<br /><sub>(11,1)</sub> |Popis: útočník, který může načíst nebo zpracovat hesla s algoritmem hash z/etc/shadow, pokud není správně zabezpečený. |Nastavte oprávnění a vlastnictví/etc/shadow * nebo spusťte/opt/Microsoft/omsagent/plugin/omsremediate-r set-atd. Shadow-permes. |
|oprávnění k souboru/etc/shadow-by měla být nastavená na 0400.<br /><sub>(11,2)</sub> |Popis: útočník, který může načíst nebo zpracovat hesla s algoritmem hash z/etc/shadow-, pokud není správně zabezpečený. |Nastavte oprávnění a vlastnictví/etc/shadow * nebo spusťte/opt/Microsoft/omsagent/plugin/omsremediate-r set-atd. Shadow-permes. |
|oprávnění k souboru/etc/gshadow by měla být nastavená na 0400.<br /><sub>(11,3)</sub> |Popis: útočník se může spojit se skupinami zabezpečení, pokud tento soubor není správně zabezpečený. |Nastavte oprávnění a vlastnictví/etc/gshadow-nebo spusťte/opt/Microsoft/omsagent/plugin/omsremediate-r set-etc-gshadow-permes. |
|oprávnění k souboru/etc/gshadow-by měla být nastavená na 0400.<br /><sub>(11,4)</sub> |Popis: útočník se může spojit se skupinami zabezpečení, pokud tento soubor není správně zabezpečený. |Nastavte oprávnění a vlastnictví/etc/gshadow nebo spusťte/opt/Microsoft/omsagent/plugin/omsremediate-r set-etc-gshadow-permes. |
|oprávnění souboru/etc/passwd by měla být 0644<br /><sub>(12,1)</sub> |Popis: Útočník by mohl změnit ID uživatele a prostředí přihlášení. |Nastavte oprávnění a vlastnictví/etc/passwd nebo spusťte/opt/Microsoft/omsagent/plugin/omsremediate-r set-etc-passwd-permes. |
|oprávnění souboru/etc/Group by měla být 0644<br /><sub>(12,2)</sub> |Popis: Útočník by mohl zvýšit oprávnění tím, že upraví členství ve skupině. |Nastavte oprávnění a vlastnictví/etc/group nebo spusťte/opt/Microsoft/omsagent/plugin/omsremediate-r set-etc-Group-permes. |
|oprávnění k souboru/etc/passwd-by měla být nastavená na 0600.<br /><sub>(12,3)</sub> |Popis: útočník se může spojit se skupinami zabezpečení, pokud tento soubor není správně zabezpečený. |Nastavte oprávnění a vlastnictví/etc/passwd-nebo spusťte/opt/Microsoft/omsagent/plugin/omsremediate-r set-etc-passwd-permes. |
|oprávnění souboru/etc/Group-by měla být 0644<br /><sub>(12,4)</sub> |Popis: Útočník by mohl zvýšit oprávnění tím, že upraví členství ve skupině. |Nastavte oprávnění a vlastnictví/etc/group-nebo spusťte/opt/Microsoft/omsagent/plugin/omsremediate-r set-etc-Group-permes. |
|Přístup k kořenovému účtu pomocí Su by měl být omezen na kořenovou skupinu.<br /><sub>20</sub> |Popis: Útočník by mohl zvýšit oprávnění zadáním hesla, pokud Su není omezen na uživatele v kořenové skupině. |Spusťte příkaz "/opt/Microsoft/omsagent/plugin/omsremediate-r Fix-Su-Permissions". Tím se přidá řádek ' požadováno ověření pam_wheel. proto use_uid ' do souboru '/etc/pam.d/Su '. |
|Kořenová skupina by měla existovat a musí obsahovat všechny členy, kteří se mohou Su ke kořenu.<br /><sub>22</sub> |Popis: Útočník by mohl zvýšit oprávnění zadáním hesla, pokud Su není omezen na uživatele v kořenové skupině. |Vytvořte kořenovou skupinu pomocí příkazu "Groupadd-g 0 root". |
|Neexistují žádné účty bez hesel.<br /><sub>(23,2)</sub> |Popis: útočník se může přihlásit k účtům bez hesla a spustit libovolné příkazy. |Pomocí příkazu passwd nastavte hesla pro všechny účty. |
|Jiné účty než root musí mít jedinečné identifikátory UID větší než nula (0).<br /><sub>24</sub> |Popis: Pokud má jiný účet, než je root, hodnotu UID, může útočník napadnout účet a získat oprávnění root. |Přiřazení jedinečných a nenulových identifikátorů UID všem nekořenovým účtům pomocí ' usermod-u ' |
|Mělo by být povoleno náhodné umístění oblastí virtuální paměti.<br /><sub>0,25</sub> |Popis: Útočník by mohl zapisovat spustitelný kód do známých oblastí v paměti, což vedlo ke zvýšení oprávnění. |Přidejte hodnotu ' 1 ' nebo ' 2 ' do souboru '/proc/sys/kernel/randomize_va_space ' |
|Podpora jádra pro funkci XD/NX procesor by měla být povolená.<br /><sub>26</sub> |Popis: Útočník by mohl způsobit zvýšení oprávnění, aby systém mohl spustitelný kód z datových oblastí v paměti. |Potvrďte, že soubor '/proc/cpuinfo ' obsahuje příznak ' NX ' |
|Znak. by se neměl zobrazovat v kořenovém $PATH.<br /><sub>(27,1)</sub> |Popis: Útočník by mohl zvýšit oprávnění tím, že v kořenovém adresáři umístí škodlivý soubor $PATH |Úprava řádku export PATH = v/root/.Profile |
|Domovské adresáře uživatele by měly být režim 750 nebo více omezující<br /><sub>28</sub> |Popis: Útočník by mohl načíst citlivé informace z domovských složek jiných uživatelů. |Nastavte oprávnění pro domovskou složku na 750 nebo spusťte příkaz/opt/Microsoft/omsagent/plugin/omsremediate-r Fix-Home-dir-Permissions. |
|Výchozí umask pro všechny uživatele by měly být nastavené na 077 v přihlašovacích údajích. defs<br /><sub>29</sub> |Popis: Útočník by mohl načíst citlivé informace ze souborů vlastněných ostatními uživateli. |Spusťte příkaz "/opt/Microsoft/omsagent/plugin/omsremediate-r set-Default-User-umask". Tím se do souboru "/etc/Login.defs" přidá řádek ' UMASK 077 ' |
|Pro všechny zaváděcí program pro spouštění by měla být povolená ochrana heslem.<br /><sub>čl</sub> |Popis: útočník s fyzickým přístupem může měnit možnosti zaváděcího programu pro spouštění a vracet neomezený přístup k systému. |Přidejte heslo spouštěcího zavaděče do souboru '/boot/grub/grub.cfg '. |
|Zajistěte, aby byla nakonfigurovaná oprávnění pro config zaváděcí program<br /><sub>(31,1)</sub> |Popis: nastavení oprávnění ke čtení a zápisu pro kořen zabraňuje pouze nekořenovým uživatelům v zobrazení spouštěcích parametrů nebo jejich změně. Nekořenový uživatel, který čte parametry spuštění, může po spuštění identifikovat slabá místa zabezpečení při spuštění a bude je moct zneužít. |Nastavte vlastníka a skupinu vašeho zaváděcího programu pro spouštění na root: root a oprávnění 0400 nebo spusťte/opt/Microsoft/omsagent/plugin/omsremediate-r zaváděcí program – oprávnění. |
|Ujistěte se, že je vyžadováno ověřování pro režim jednoho uživatele.<br /><sub>(33)</sub> |Popis: vyžadování ověřování v jednouživatelském režimu zabraňuje neoprávněnému uživateli v restartování systému do jednoho uživatele, aby získal oprávnění root bez přihlašovacích údajů. |Spusťte následující příkaz a nastavte heslo pro uživatele root: `passwd root` |
|Zajistěte, aby odesílání přesměrování paketů bylo zakázané.<br /><sub>(38,3)</sub> |Popis: Útočník by mohl použít napadeného hostitele k odesílání neplatných přesměrování ICMP na jiné zařízení směrovače při pokusu o poškození směrování a uživatelé mají přístup k systému nastavenému útočníkem na rozdíl od platného systému. |Nastavte následující parametry v/etc/sysctl.conf: ' net.ipv4.conf.all.send_redirects = 0 ' a ' net.ipv4.conf.default.send_redirects = 0 ' nebo spusťte '/opt/Microsoft/omsagent/plugin/omsremediate-r Disable-Send-redirects |
|Odesílání přesměrování ICMP by mělo být zakázáno pro všechna rozhraní. (net.ipv4.conf.default.accept_redirects = 0)<br /><sub>(38,4)</sub> |Popis: Útočník by mohl změnit směrovací tabulku tohoto systému a přesměrovat provoz do alternativního cíle. |Spusťte `sysctl -w key=value` sadu a nastavte ji na vyhovující hodnotu nebo spusťte příkaz '/opt/Microsoft/omsagent/plugin/omsremediate-r Disable-Accept-redirects '. |
|Odesílání přesměrování ICMP by mělo být zakázáno pro všechna rozhraní. (net.ipv4.conf.default.secure_redirects = 0)<br /><sub>(38,5)</sub> |Popis: Útočník by mohl změnit směrovací tabulku tohoto systému a přesměrovat provoz do alternativního cíle. |Spusťte `sysctl -w key=value` sadu a nastavte ji na vyhovující hodnotu nebo spusťte příkaz '/opt/Microsoft/omsagent/plugin/omsremediate-r Disable-Secure-redirects ' |
|Přijímání paketů směrovaných zdroji by mělo být zakázáno pro všechna rozhraní. (net.ipv4.conf.all.accept_source_route = 0)<br /><sub>(40,1)</sub> |Popis: Útočník by mohl přesměrovat provoz na škodlivé účely. |Spusťte `sysctl -w key=value` sadu a nastavte ji na vyhovující hodnotu nebo spusťte příkaz "/opt/Microsoft/omsagent/plugin/omsremediate-r Disable-Accept-source-Route". |
|Přijímání paketů směrovaných zdroji by mělo být zakázáno pro všechna rozhraní. (net.ipv6.conf.all.accept_source_route = 0) nebo spusťte příkaz '/opt/Microsoft/omsagent/plugin/omsremediate-r Disable-Accept-source-Route '<br /><sub>(40,2)</sub> |Popis: Útočník by mohl přesměrovat provoz na škodlivé účely. |Spusťte `sysctl -w key=value` sadu a nastavte ji na vyhovující hodnotu. |
|V případě, že mají být povoleny nefalešnované odpovědi ICMP na všesměrové vysílání (net.ipv4.icmp_ignore_bogus_error_responses = 1)<br /><sub>(43)</sub> |Popis: Útočník by mohl provést útok ICMP v důsledku DoS. |Spusťte `sysctl -w key=value` sadu a nastavte ji na vyhovující hodnotu nebo spusťte příkaz '/opt/Microsoft/omsagent/plugin/omsremediate-r Enable-ICMP-Ignore-falešná-Error-reodpovědís ' |
|Ignorují se požadavky na odezvu ICMP odesílané do všesměrového nebo vícesměrového vysílání, které by měly být povolené. (net.ipv4.icmp_echo_ignore_broadcasts = 1)<br /><sub>(44)</sub> |Popis: Útočník by mohl provést útok ICMP v důsledku DoS. |Spusťte `sysctl -w key=value` sadu a nastavte ji na vyhovující hodnotu nebo spusťte příkaz '/opt/Microsoft/omsagent/plugin/omsremediate-r Enable-ICMP-echo-Ignore-broadcasts ' |
|Protokolování paketů Martian (těch, které mají nedostupné adresy) by mělo být povoleno pro všechna rozhraní. (net.ipv4.conf.all.log_martians = 1)<br /><sub>(45,1)</sub> |Popis: Útočník by mohl odeslat provoz z zfalšovaných adres bez zjištění |Spusťte `sysctl -w key=value` sadu a nastavte ji na vyhovující hodnotu nebo spusťte rutinu/opt/Microsoft/omsagent/plugin/omsremediate-r Enable-log-Martians. |
|Ověřování zdrojového kódu by mělo být povoleno obrácenou cestou pro všechna rozhraní. (net.ipv4.conf.all.rp_filter = 1)<br /><sub>(46,1)</sub> |Popis: systém bude přijímat přenosy z adres, které jsou unroutable. |Spusťte `sysctl -w key=value` sadu a nastavte ji na vyhovující hodnotu nebo spusťte příkaz '/opt/Microsoft/omsagent/plugin/omsremediate-r Enable-RP-Filter ' |
|Ověřování zdrojového kódu by mělo být povoleno obrácenou cestou pro všechna rozhraní. (net.ipv4.conf.default.rp_filter = 1)<br /><sub>(46,2)</sub> |Popis: systém bude přijímat přenosy z adres, které jsou unroutable. |Spusťte `sysctl -w key=value` sadu a nastavte ji na vyhovující hodnotu nebo spusťte příkaz '/opt/Microsoft/omsagent/plugin/omsremediate-r Enable-RP-Filter ' |
|Protokol TCP syncookies by měl být povolen. (net.ipv4.tcp_syncookies = 1)<br /><sub>(47)</sub> |Popis: Útočník by mohl provádět DoS přes TCP |Spusťte `sysctl -w key=value` sadu a nastavte ji na vyhovující hodnotu nebo spusťte rutinu/opt/Microsoft/omsagent/plugin/omsremediate-r Enable-TCP-syncookies. |
|Systém by neměl fungovat jako síťový sniffer.<br /><sub>(48)</sub> |Popis: útočník může využít promiskuitní rozhraní k monitorování síťového provozu. |Promiskuitní režim je povolený prostřednictvím položky provedlo v '/etc/network/interfaces ' nebo '/etc/rc.Local. '. Zkontroluje oba soubory a odebere tuto položku. |
|Všechna bezdrátová rozhraní by měla být zakázána.<br /><sub>(49)</sub> |Popis: Útočník by mohl vytvořit falešný přístupový bod pro zachycení přenosů. |Potvrďte, že všechna bezdrátová rozhraní jsou v/etc/network/interfaces zakázaná. |
|Protokol IPv6 by měl být povolený.<br /><sub>(50)</sub> |Popis: to je nezbytné pro komunikaci v moderních sítích. |Otevřete/etc/sysctl.conf a potvrďte, že ' net.ipv6.conf.all.disable_ipv6 ' a ' net.ipv6.conf.default.disable_ipv6 ' jsou nastaveny na 0. |
|Ujistěte se, že je DCCP zakázané.<br /><sub>(54)</sub> |Popis: Pokud se protokol nepožaduje, doporučuje se, aby se ovladače nenainstalovaly, aby se snížila potenciální plocha pro útok. |Upravte nebo vytvořte soubor v `/etc/modprobe.d/` adresáři končícím na. conf a přidejte a `install dccp /bin/true` pak uvolněte modul DCCP nebo spusťte příkaz "/opt/Microsoft/omsagent/plugin/omsremediate-r Disable-zbytečný-kernel-mods". |
|Ujistěte se, že je SCTP zakázané.<br /><sub>(55)</sub> |Popis: Pokud se protokol nepožaduje, doporučuje se, aby se ovladače nenainstalovaly, aby se snížila potenciální plocha pro útok. |Upravte nebo vytvořte soubor v `/etc/modprobe.d/` adresáři končícím na. conf a přidejte a `install sctp /bin/true` pak uvolněte modul SCTP nebo spusťte příkaz "/opt/Microsoft/omsagent/plugin/omsremediate-r Disable-zbytečný-kernel-mods". |
|Zakažte podporu služby RDS.<br /><sub>(56)</sub> |Popis: Útočník by mohl použít chybu zabezpečení služby RDS k navýšení zabezpečení systému. |Upravte nebo vytvořte soubor v `/etc/modprobe.d/` adresáři končícím na. conf a přidejte a `install rds /bin/true` pak uvolněte modul RDS nebo spusťte příkaz/opt/Microsoft/omsagent/plugin/omsremediate-r Disable-zbytečný-kernel-mods. |
|Ujistěte se, že je TIPC zakázané.<br /><sub>(57)</sub> |Popis: Pokud se protokol nepožaduje, doporučuje se, aby se ovladače nenainstalovaly, aby se snížila potenciální plocha pro útok. |Upravte nebo vytvořte soubor v `/etc/modprobe.d/` adresáři končícím na. conf a přidejte a `install tipc /bin/true` pak uvolněte modul TIPC nebo spusťte příkaz "/opt/Microsoft/omsagent/plugin/omsremediate-r Disable-zbytečný-kernel-mods". |
|Ujistěte se, že je protokolování nakonfigurované.<br /><sub>(60)</sub> |Popis: Skvělé důležité informace související se zabezpečením jsou odesílány prostřednictvím `rsyslog` (například úspěšné a neúspěšné pokusy o přihlášení, nezdařené pokusy o přihlášení, přihlášení ke kořenu atd.). |Podle potřeby nakonfigurujte syslog, rsyslog nebo syslog-ng. |
|Měl by se nainstalovat balíček syslog, rsyslog nebo syslog-ng.<br /><sub>(61)</sub> |Popis: problémy se spolehlivostí a zabezpečením nebudou zaprotokolovány, aby se zabránilo správné diagnostice. |Nainstalujte balíček rsyslog nebo spusťte příkaz "/opt/Microsoft/omsagent/plugin/omsremediate-r Install-rsyslog". |
|Ujistěte se, že je služba protokolování povolená.<br /><sub>(62)</sub> |Popis: je nezbytné mít možnost protokolovat události na uzlu. |Povolte balíček rsyslog nebo spusťte rutinu/opt/Microsoft/omsagent/plugin/omsremediate-r Enable-rsyslog. |
|Oprávnění k souborům pro všechny soubory protokolu rsyslog by měla být nastavená na 640 nebo 600.<br /><sub>(63)</sub> |Popis: Útočník by mohl nakrýt aktivitu pomocí manipulace s protokoly. |Přidat řádek ' $FileCreateMode 0640 ' do souboru '/etc/rsyslog.conf ' |
|Ujistěte se, že konfigurační soubory protokolovacího nástroje jsou omezené.<br /><sub>(63,1)</sub> |Popis: je důležité zajistit, že soubory protokolu existují a že mají správná oprávnění, aby byla citlivá data syslog archivována a chráněna. |Nastavte konfigurační soubory protokolovacího nástroje na 0640 nebo spusťte příkaz "/opt/Microsoft/omsagent/plugin/omsremediate-r protokolovací-config-File-Permissions". |
|Všechny soubory protokolu rsyslog by měly vlastnit skupina ADM.<br /><sub>(64)</sub> |Popis: Útočník by mohl nakrýt aktivitu pomocí manipulace s protokoly. |Přidat řádek ' $FileGroup ADM ' do souboru '/etc/rsyslog.conf ' |
|Všechny soubory protokolu rsyslog by měly vlastnit uživatel syslog.<br /><sub>(65)</sub> |Popis: Útočník by mohl nakrýt aktivitu pomocí manipulace s protokoly. |Přidejte řádek ' $FileOwner syslog ' do souboru '/etc/rsyslog.conf ' nebo spusťte '/opt/Microsoft/omsagent/plugin/omsremediate-r syslog-Owner |
|Rsyslog by neměl přijímat vzdálené zprávy.<br /><sub>(67)</sub> |Popis: útočník může vložit zprávy do protokolu syslog, což způsobí, že se DoS nebo odčítání z jiné aktivity. |Odebrat řádky ' $ModLoad imudp ' a ' $ModLoad imtcp ' ze souboru '/etc/rsyslog.conf ' |
|Služba logrotate (syslog otáčení) by měla být povolená.<br /><sub>(68)</sub> |Popis: soubory protokolu mohou růst bez omezení a spotřebovat veškeré místo na disku |Nainstalujte balíček logrotate a potvrďte, že je položka cron logrotate aktivní (chmod 755/etc/cron.Daily/logrotate; chown root: root/etc/cron.Daily/logrotate). |
|Služba rlogin by měla být zakázána.<br /><sub>(69)</sub> |Popis: Útočník by mohl získat přístup, což obchází přísné požadavky na ověřování. |Odeberte službu inetd. |
|Zakáže inetd, pokud není potřeba. (inetd)<br /><sub>(70,1)</sub> |Popis: Útočník by mohl zneužít chybu zabezpečení ve službě inetd, aby získal přístup. |Odinstalujte službu inetd (apt-get Remove inetd). |
|Zakáže xinetd, pokud není potřeba. (xinetd)<br /><sub>(70,2)</sub> |Popis: Útočník by mohl zneužít chybu zabezpečení ve službě xinetd, aby získal přístup. |Odinstalujte službu inetd (apt-get Remove xinetd). |
|Inetd nainstalujte jenom v případě, že je to vhodné a vyžaduje vaše distribuce. Zabezpečení podle současných standardů posílení zabezpečení. (v případě potřeby)<br /><sub>(71,1)</sub> |Popis: Útočník by mohl zneužít chybu zabezpečení ve službě inetd, aby získal přístup. |Odinstalujte službu inetd (apt-get Remove inetd). |
|Xinetd nainstalujte jenom v případě, že je to vhodné a vyžaduje vaše distribuce. Zabezpečení podle současných standardů posílení zabezpečení. (v případě potřeby)<br /><sub>(71,2)</sub> |Popis: Útočník by mohl zneužít chybu zabezpečení ve službě xinetd, aby získal přístup. |Odinstalujte službu inetd (apt-get Remove xinetd). |
|Služba Telnet by měla být zakázaná.<br /><sub>(72)</sub> |Popis: Útočník by mohl eavesdrop nebo převzít nešifrované relace Telnet. |Odeberte nebo Odkomentujte položku Telnet v souboru '/etc/inetd.conf ' |
|Všechny balíčky s protokolem Telnet by se měly odinstalovat.<br /><sub>(73)</sub> |Popis: Útočník by mohl eavesdrop nebo převzít nešifrované relace Telnet. |Odinstalace všech balíčků s protokolem Telnet |
|Služba RCP/RSH by měla být zakázána.<br /><sub>(74)</sub> |Popis: Útočník by mohl eavesdrop nebo převzít nešifrované relace. |Odeberte nebo Odkomentujte položku prostředí v souboru '/etc/inetd.conf '. |
|Balíček RSH-Server by měl být odinstalován.<br /><sub>(77)</sub> |Popis: Útočník by mohl eavesdrop nebo převzít nešifrované relace RSH. |Odinstalace balíčku RSH-Server (apt-get Remove RSH-Server) |
|Služba ypbind by měla být zakázána.<br /><sub>(78)</sub> |Popis: Útočník by mohl načíst citlivé informace ze služby ypbind. |Odinstalace balíčku služby NIS (apt – získat odebrání služby NIS) |
|Balíček služby NIS by se měl odinstalovat.<br /><sub>(79)</sub> |Popis: Útočník by mohl načíst citlivé informace ze služby NIS. |Odinstalace balíčku služby NIS (apt – získat odebrání služby NIS) |
|Služba TFTP by měla být zakázána.<br /><sub>(80)</sub> |Popis: Útočník by mohl eavesdrop nebo převzít nešifrovanou relaci. |Odeberte položku TFTP ze souboru '/etc/inetd.conf '. |
|Balíček s protokolem TFTP by měl být odinstalován.<br /><sub>(81)</sub> |Popis: Útočník by mohl eavesdrop nebo převzít nešifrovanou relaci. |Odinstalace TFTP balíčku (apt-get removeed tftpd) |
|Balíček ReadAhead-Fedora by měl být odinstalován.<br /><sub>(82)</sub> |Popis: žádná podstatná angažovanost, ale také žádné podstatné výhody |Odinstalujte balíček ReadAhead-Fedora (apt-get Remove ReadAhead-Fedora). |
|Služba Bluetooth/HIDD by měla být zakázána.<br /><sub>(84)</sub> |Popis: Útočník by mohl zachytit nebo manipulovat s komunikací bezdrátové komunikace. |Odinstalace balíčku Bluetooth (apt – získat odebrání Bluetooth) |
|Služba ISDN by měla být zakázána.<br /><sub>(86)</sub> |Popis: Útočník by mohl použít modem k získání neoprávněného přístupu. |Odinstalace balíčku isdnutils-Base (apt-get Remove isdnutils – Base) |
|Balíček isdnutils-Base by měl být odinstalován.<br /><sub>(87)</sub> |Popis: Útočník by mohl použít modem k získání neoprávněného přístupu. |Odinstalace balíčku isdnutils-Base (apt-get Remove isdnutils – Base) |
|Služba kdump by měla být zakázána.<br /><sub>(88)</sub> |Popis: útočník může analyzovat předchozí systémové havárie pro načtení citlivých informací. |Odinstalace balíčku kdump-Tools (apt-get Remove kdump-Tools) |
|Zeroconf sítě by měly být zakázané.<br /><sub>(89)</sub> |Popis: Útočník by mohl toto zneužití zneužít k získání informací o síťových systémech nebo falešně vydaných žádostech DNS z důvodu závad v modelu důvěryhodnosti. |Pro RedHat, CentOS a Oracle: přidat `NOZEROCONF=yes or no` do/etc/sysconfig/Network. Pro všechny ostatní distribuce: Odeberte všechny položky IPv4LL v souboru/etc/network/interfaces nebo spusťte rutinu/opt/Microsoft/omsagent/plugin/omsremediate-r Disable-Zeroconf. |
|Služba crond by měla být povolená.<br /><sub>(90)</sub> |Popis: cron vyžaduje téměř všechny systémy pro pravidelné úlohy údržby. |Nainstalujte balíček cron (apt-get install-y cron) a potvrďte, že soubor '/etc/init/cron.conf ' obsahuje řádek ' Start on runlevel [2345] '. |
|Oprávnění k souborům pro/etc/anacrontab by měla být nastavená na kořen: root 600.<br /><sub>(91)</sub> |Popis: Útočník by mohl s tímto souborem manipulovat, aby nedocházelo k naplánovaným úlohám nebo spouštění škodlivých úkolů. |Nastavte vlastnictví a oprávnění na/etc/anacrontab nebo spusťte/opt/Microsoft/omsagent/plugin/omsremediate-r Fix-anacrontab-permes. |
|Zajistěte, aby byla nakonfigurovaná oprávnění pro/etc/cron.d.<br /><sub>(93)</sub> |Popis: udělení přístupu pro zápis do tohoto adresáře pro uživatele bez oprávnění by jim mohl poskytnout prostředky pro získání neautorizovaných zvýšených oprávnění. Udělení přístupu pro čtení do tohoto adresáře může poskytnout neprivilegovanému uživateli přehled o tom, jak získat zvýšená oprávnění nebo obejít řízení auditování. |Nastavte vlastníka a skupinu/etc/Chron.d na root a oprávnění 0700 nebo spusťte/opt/Microsoft/omsagent/plugin/omsremediate-r Fix-cron-file-permes. |
|Zajistěte, aby byla nakonfigurovaná oprávnění pro/etc/cron.Daily.<br /><sub>(94)</sub> |Popis: udělení přístupu pro zápis do tohoto adresáře pro uživatele bez oprávnění by jim mohl poskytnout prostředky pro získání neautorizovaných zvýšených oprávnění. Udělení přístupu pro čtení do tohoto adresáře může poskytnout neprivilegovanému uživateli přehled o tom, jak získat zvýšená oprávnění nebo obejít řízení auditování. |Nastavte vlastníka a skupinu/etc/Chron.Daily na root a oprávnění 0700 nebo spusťte/opt/Microsoft/omsagent/plugin/omsremediate-r Fix-cron-file-permes |
|Zajistěte, aby byla nakonfigurovaná oprávnění pro/etc/cron.hourly.<br /><sub>(95)</sub> |Popis: udělení přístupu pro zápis do tohoto adresáře pro uživatele bez oprávnění by jim mohl poskytnout prostředky pro získání neautorizovaných zvýšených oprávnění. Udělení přístupu pro čtení do tohoto adresáře může poskytnout neprivilegovanému uživateli přehled o tom, jak získat zvýšená oprávnění nebo obejít řízení auditování. |Nastavte vlastníka a skupinu/etc/Chron.hourly na root a oprávnění 0700 nebo spusťte/opt/Microsoft/omsagent/plugin/omsremediate-r Fix-cron-file-permes |
|Zajistěte, aby byla nakonfigurovaná oprávnění pro/etc/cron.Monthly.<br /><sub>(96)</sub> |Popis: udělení přístupu pro zápis do tohoto adresáře pro uživatele bez oprávnění by jim mohl poskytnout prostředky pro získání neautorizovaných zvýšených oprávnění. Udělení přístupu pro čtení do tohoto adresáře může poskytnout neprivilegovanému uživateli přehled o tom, jak získat zvýšená oprávnění nebo obejít řízení auditování. |Nastavte vlastníka a skupinu/etc/Chron.Monthly na root a oprávnění 0700 nebo spusťte/opt/Microsoft/omsagent/plugin/omsremediate-r Fix-cron-file-permes |
|Zajistěte, aby byla nakonfigurovaná oprávnění pro/etc/cron.Weekly.<br /><sub>(97)</sub> |Popis: udělení přístupu pro zápis do tohoto adresáře pro uživatele bez oprávnění by jim mohl poskytnout prostředky pro získání neautorizovaných zvýšených oprávnění. Udělení přístupu pro čtení do tohoto adresáře může poskytnout neprivilegovanému uživateli přehled o tom, jak získat zvýšená oprávnění nebo obejít řízení auditování. |Nastavte vlastníka a skupinu/etc/Chron.Weekly na root a oprávnění 0700 nebo spusťte/opt/Microsoft/omsagent/plugin/omsremediate-r Fix-cron-file-permes |
|Zajistěte, aby byl na/cron omezený jenom na autorizované uživatele.<br /><sub>(98)</sub> |Popis: v mnoha systémech je jenom správce systému autorizovaný naplánovat `cron` úlohy. Použití `cron.allow` souboru k řízení, kdo může spouštět `cron` úlohy, vynutila tyto zásady. Správa seznamu povolených je snazší než seznam zakázaných. V seznamu pro odepření můžete potenciálně přidat ID uživatele do systému a zapomenout ho přidat do souborů k odepření. |Nahraďte/etc/cron.Deny a/etc/at.Deny příslušnými `allow` soubory. |
|Ujistěte se, že je správně nakonfigurované upozornění na vzdálené přihlášení.<br /><sub>(111)</sub> |Popis: varovné zprávy informují uživatele, kteří se pokoušejí přihlásit do systému svého právního stavu týkající se systému a musí obsahovat název organizace, která vlastní systém a všechny zásady monitorování, které jsou na místě. Zobrazení informací o operačním systému a úrovni oprav v přihlašovacích bannerech má také vedlejší dopad na poskytování podrobných systémových informací útočníkům, kteří se pokoušejí o konkrétní zneužití systému. Autorizovaní uživatelé můžou tyto informace snadno získat spuštěním `uname -a` příkazu po přihlášení. |Odebrat všechny instance \m \r \s a \v ze souboru/etc/issue.NET |
|Ujistěte se, že je výstražné upozornění místního přihlášení správně nakonfigurované.<br /><sub>(111,1)</sub> |Popis: varovné zprávy informují uživatele, kteří se pokoušejí přihlásit do systému svého právního stavu týkající se systému a musí obsahovat název organizace, která vlastní systém a všechny zásady monitorování, které jsou na místě. Zobrazení informací o operačním systému a úrovni oprav v přihlašovacích bannerech má také vedlejší dopad na poskytování podrobných systémových informací útočníkům, kteří se pokoušejí o konkrétní zneužití systému. Autorizovaní uživatelé můžou tyto informace snadno získat spuštěním `uname -a` příkazu po přihlášení. |Odebrat všechny instance \m \r \s a \v ze souboru/etc/Issue |
|Služba Avahi-démon by měla být zakázána.<br /><sub>(114)</sub> |Popis: Útočník by mohl získat přístup pomocí ohrožení zabezpečení v procesu démona Avahi |Zakažte službu Avahi-daemon nebo spusťte rutinu/opt/Microsoft/omsagent/plugin/omsremediate-r Disable-Avahi-démon. |
|Služba ve stejném útvaru by měla být zakázaná.<br /><sub>(115)</sub> |Popis: Útočník by mohl použít chybu ve službě pro navýšení oprávnění ke zvýšení oprávnění. |Zakažte službu ve vizuálu nebo spusťte rutinu/opt/Microsoft/omsagent/plugin/omsremediate-r Disable-minipohárků. |
|Služba ISC-DHCP musí být zakázána.<br /><sub>(116)</sub> |Popis: Útočník by mohl použít protokol DHCP k poskytnutí chybných informací klientům, což brání v normálním provozu. |Odebrání balíčku ISC-DHCP-Server (apt-get Remove ISC-DHCP-Server) |
|Balíček ISC-DHCP-Server by se měl odinstalovat.<br /><sub>(117)</sub> |Popis: Útočník by mohl použít protokol DHCP k poskytnutí chybných informací klientům, což brání v normálním provozu. |Odebrání balíčku ISC-DHCP-Server (apt-get Remove ISC-DHCP-Server) |
|Balíček sendmail by se měl odinstalovat.<br /><sub>(120)</sub> |Popis: Útočník by mohl použít tento systém k posílání e-mailů s škodlivým obsahem jiným uživatelům. |Odinstalace balíčku sendmail (apt-get Remove sendmail) |
|Příponový balíček by měl být odinstalován.<br /><sub>(121)</sub> |Popis: Útočník by mohl použít tento systém k posílání e-mailů s škodlivým obsahem jiným uživatelům. |Odinstalujte balíček přípony (apt-get Remove přípona) nebo spusťte/opt/Microsoft/omsagent/plugin/omsremediate-r Remove-přípona. |
|V případě potřeby by mělo být zakázáno naslouchání síťové přípony.<br /><sub>(122)</sub> |Popis: Útočník by mohl použít tento systém k posílání e-mailů s škodlivým obsahem jiným uživatelům. |Do souboru '/etc/Postfix/Main.CF ' přidejte řádek ' inet_interfaces localhost ' |
|Služba LDAP by měla být zakázána.<br /><sub>(124)</sub> |Popis: Útočník by mohl ovlivnit službu LDAP na tomto hostiteli, aby mohla distribuovat falešná data do klientů LDAP. |Odinstalace balíčku slapd (apt-get Remove slapd) |
|Služba rpcgssd by měla být zakázána.<br /><sub>(126)</sub> |Popis: útočník může k získání přístupu použít chybu v rpcgssd/NFS. |Zakažte službu rpcgssd nebo spusťte rutinu/opt/Microsoft/omsagent/plugin/omsremediate-r Disable-rpcgssd. |
|Služba rpcidmapd by měla být zakázána.<br /><sub>(127)</sub> |Popis: útočník může k získání přístupu použít chybu v idmapd/NFS. |Zakažte službu rpcidmapd nebo spusťte rutinu/opt/Microsoft/omsagent/plugin/omsremediate-r Disable-rpcidmapd. |
|Služba Mapovač portů by měla být zakázaná.<br /><sub>(129)</sub> |Popis: útočník může k získání přístupu použít chybu v mapovači portů. |Zakažte službu rpcbind nebo spusťte rutinu/opt/Microsoft/omsagent/plugin/omsremediate-r Disable-rpcbind. |
|Služba rpcsvcgssd by měla být zakázána.<br /><sub>(130)</sub> |Popis: útočník může použít chybu v rpcsvcgssd k získání přístupu. |Odebrat řádek ' NEED_SVCGSSD = yes ' ze souboru '/etc/inetd.conf ' |
|Pojmenovaná služba by měla být zakázána.<br /><sub>(131)</sub> |Popis: Útočník by mohl použít službu DNS k distribuci falešných dat klientům. |Odinstalace balíčku bind9 (apt-get Remove bind9) |
|Balíček BIND by se měl odinstalovat.<br /><sub>(132)</sub> |Popis: Útočník by mohl použít službu DNS k distribuci falešných dat klientům. |Odinstalace balíčku bind9 (apt-get Remove bind9) |
|Služba Dovecot by měla být zakázána.<br /><sub>(137)</sub> |Popis: systém se dá použít jako server IMAP/POP3. |Odinstalace balíčku Dovecot-Core (apt-get Remove Dovecot-Core) |
|Balíček Dovecot by se měl odinstalovat.<br /><sub>(138)</sub> |Popis: systém se dá použít jako server IMAP/POP3. |Odinstalace balíčku Dovecot-Core (apt-get Remove Dovecot-Core) |
|Zajistěte `+` , aby v/etc/passwd neexistovaly žádné staré položky<br /><sub>(156,1)</sub> |Popis: Útočník by mohl získat přístup pomocí uživatelského jména "+" bez hesla. |Odebere všechny položky v/etc/passwd, které začínají znakem +:. |
|Zajistěte `+` , aby v/etc/shadow neexistovaly žádné staré položky<br /><sub>(156,2)</sub> |Popis: Útočník by mohl získat přístup pomocí uživatelského jména "+" bez hesla. |Odebere všechny položky v/etc/shadow, které začínají znakem +:. |
|Zajistěte `+` , aby v/etc/Group neexistovaly žádné staré položky<br /><sub>(156,3)</sub> |Popis: Útočník by mohl získat přístup pomocí uživatelského jména "+" bez hesla. |Odebere všechny položky v/etc/Group, které začínají znakem +:. |
|Zajistěte, aby vypršení platnosti hesla bylo 365 dní nebo méně.<br /><sub>(157,1)</sub> |Popis: okno příležitosti útočníka, který zneužije napadené přihlašovací údaje nebo úspěšně narušit přihlašovací údaje prostřednictvím útoku hrubou silou v online režimu, je omezeno stářím hesla. Proto omezením maximálního stáří hesla také dojde k omezení okna příležitosti útočníka. |Nastavte `PASS_MAX_DAYS` parametr na hodnotu maximálně 365 v `/etc/login.defs`  nebo spusťte/opt/Microsoft/omsagent/plugin/omsremediate-r Configure-Password-Policy-Max-Days. |
|Zajistěte, aby se dny upozornění na vypršení platnosti hesla zobrazovaly 7.<br /><sub>(157,2)</sub> |Popis: poskytnutím stručného upozornění, že platnost hesla vyprší, dáte uživatelům čas si představit zabezpečené heslo. Nevědomí uživatelé můžou zvolit jednoduché heslo nebo ho zapsat tam, kde se může zjistit. |Nastavte `PASS_WARN_AGE` parametr na hodnotu 7 v `/etc/login.defs`  nebo spusťte/opt/Microsoft/omsagent/plugin/omsremediate-r Configure-Password-Policy-Warn-Age. |
|Zajistěte, aby opakované použití hesla bylo omezené.<br /><sub>(157,5)</sub> |Popis: vynutí, aby uživatelé nemuseli opakovaně používat svoje starší 5 hesla, takže by se mohlo stát, že by útočník mohl heslo uhodnout. |Zajistěte, aby byla možnost ' zapamatovat ' nastavena na hodnotu alespoň 5 v/etc/pam.d/Common-Password nebo v obou/etc/pam.d/password_auth a/etc/pam.d/system_auth nebo spusťte příkaz '/opt/Microsoft/omsagent/plugin/omsremediate-r Configure-Password-Policy-History '. |
|Zajistěte, aby algoritmus hash hesla byl SHA-512.<br /><sub>(157,11)</sub> |Popis: algoritmus SHA-512 poskytuje mnohem silnější hashing než MD5, což poskytuje dodatečnou ochranu systému tím, že zvyšuje úroveň úsilí, aby útočník úspěšně určil hesla. Poznámka: tyto změny se vztahují pouze na účty nakonfigurované v místním systému. |Nastavte algoritmus hash hesla na SHA512. Mnoho distribucí poskytuje nástroje pro aktualizaci konfigurace PAM. Podrobnosti najdete v dokumentaci. Pokud neposkytnete žádné nástroje, upravte příslušný `/etc/pam.d/` konfigurační soubor a přidejte nebo upravte `pam_unix.so` řádky, které budou zahrnovat možnost SHA512: ``` password sufficient pam_unix.so sha512 ``` |
|Ujistěte se, že minimální dny mezi změnami hesla jsou 7 nebo více.<br /><sub>(157,12)</sub> |Popis: omezením četnosti změn hesel může správce zabránit uživatelům v opakovaném přepínání hesla při pokusu obejít ovládací prvky opakovaného použití hesla. |Nastavte `PASS_MIN_DAYS` parametr na hodnotu 7 v `/etc/login.defs` : `PASS_MIN_DAYS 7` . Upravte uživatelské parametry pro všechny uživatele, u kterých je nastaveno heslo, `chage --mindays 7`  nebo spusťte příkaz "/opt/Microsoft/omsagent/plugin/omsremediate-r set-Pass-min-Days". |
|Zajistěte, aby byla Poslední změna hesla všech uživatelů v minulosti.<br /><sub>(157,14)</sub> |Popis: Pokud je v budoucnu uživatel zaznamenané změny hesla, mohl by obejít nastavení vypršení platnosti hesla. |Zajistěte, aby byl neaktivní zámek hesla nastavený na 30 dní, a spusťte následující příkaz, který nastaví výchozí dobu nečinnosti hesla na 30 dní: ``` # useradd -D -f 30 ``` Upravit parametry uživatele pro všechny uživatele s heslem nastaveným na shodné: ``` # chage --inactive 30  ``` |
|Zajištění, že systémové účty nejsou přihlášení<br /><sub>(157,15)</sub> |Popis: je důležité zajistit, aby účty, které nejsou používány běžnými uživateli, nepoužívaly k zajištění interaktivního prostředí. Ve výchozím nastavení Ubuntu nastaví pole heslo pro tyto účty na neplatný řetězec, ale také se doporučuje, aby se pole prostředí v souboru hesla nastavilo na `/usr/sbin/nologin` . Tím se zabrání tomu, aby se účet mohl spouštět pomocí příkazů. |Nastavte prostředí pro všechny účty vrácené skriptem auditu na `/sbin/nologin` |
|Zajistěte, aby byla výchozí skupina pro kořenový účet GID 0.<br /><sub>(157,16)</sub> |Popis: použití GID 0 pro `_root_ ` účet pomáhá zabránit `_root_` neúmyslnému zpřístupnění souborů uživatelům bez oprávnění. |Spuštěním následujícího příkazu nastavte `root` výchozí skupinu uživatelů na hodnotu GID `0` : ``` # usermod -g 0 root ``` |
|Zajistěte, aby byl kořen jediným účtem UID 0.<br /><sub>(157,18)</sub> |Popis: Tento přístup musí být omezený jenom na výchozí `root ` účet a jenom ze systémové konzoly. Přístup pro správu musí být prostřednictvím neprivilegovaného účtu pomocí schváleného mechanismu. |Odeberte všechny uživatele kromě `root` UID nebo podle `0` potřeby přiřaďte nové UID. |
|Odebrat nepotřebné balíčky<br /><sub>(158)</sub> |Popis:  |Spuštění/opt/Microsoft/omsagent/plugin/omsremediate-r Remove-krajiny-Common |
|Odebrat nepotřebné účty<br /><sub>(159)</sub> |Popis: pro dodržování předpisů |Odebrání nepotřebných účtů |
|Ujistěte se, že je povolená služba audited.<br /><sub>(162)</sub> |Popis: zachycení systémových událostí poskytuje správcům systému informace, které jim umožní určit, jestli dochází k neoprávněnému přístupu k systému. |Nainstalovat balíček auditu (systemctl povolit auditování) |
|Spustit auditované služby<br /><sub>(163)</sub> |Popis: zachycení systémových událostí poskytuje správcům systému informace, které jim umožní určit, jestli dochází k neoprávněnému přístupu k systému. |Spustit auditované služby (systemctl spustit auditd) |
|Ujistěte se, že server SNMP není povolený.<br /><sub>(179)</sub> |Popis: server SNMP může komunikovat pomocí protokolu SNMP v1, který přenáší data ve formě Clear a nevyžaduje ověřování ke spouštění příkazů. Není-li nezbytně nutné, doporučujeme, abyste službu SNMP nepoužívali. Pokud je vyžadováno SNMP, server by měl být nakonfigurovaný tak, aby nepovoloval protokol SNMP v1. |Spusťte jeden z následujících příkazů, který zakazuje `snmpd` : ``` # chkconfig snmpd off ``` ``` # systemctl disable snmpd `````` # update-rc.d snmpd disable ``` |
|Ujistěte se, že služba rsync není povolená.<br /><sub>(181)</sub> |Popis: `rsyncd` služba představuje bezpečnostní riziko, protože používá pro komunikaci nešifrované protokoly. |Spusťte některý z následujících příkazů, abyste zakázali `rsyncd` : `chkconfig rsyncd off` , `systemctl disable rsyncd` nebo spustíte rutinu `update-rc.d rsyncd disable` /opt/Microsoft/omsagent/plugin/omsremediate-r Disable-rsysnc. |
|Zajistěte, aby server NIS není povolený.<br /><sub>(182)</sub> |Popis: Služba NIS je ze své podstaty nezabezpečeného systému, který je zranitelný vůči útokům DOS, přetečení vyrovnávací paměti a má špatné ověřování pro dotazování map služby NIS. Služba NIS se obecně nahradila těmito protokoly jako protokol LDAP (Lightweight Directory Access Protocol). Doporučuje se, aby byla služba zakázaná a další, aby se používaly bezpečnější služby. |Spusťte jeden z následujících příkazů, který zakazuje `ypserv` : ``` # chkconfig ypserv off ``` ``` # systemctl disable ypserv `````` # update-rc.d ypserv disable ``` |
|Ujistěte se, že není nainstalován klient pro klienta RSH.<br /><sub>(183)</sub> |Popis: tito starší klienti obsahují řadu rizik zabezpečení a nahradili jste bezpečnějším balíčkem SSH. I v případě, že je server odebraný, je vhodné zajistit odebrání klientů, aby se uživatelé nemohli neúmyslně pokusit tyto příkazy použít, a vystavit jejich přihlašovací údaje. Všimněte si, že odebrání `rsh ` balíčku odebere klienty pro `rsh` , `rcp ` a `rlogin` . |Odinstalujte `rsh` pomocí příslušného správce balíčků nebo ruční instalace: ``` yum remove rsh ``` ``` apt-get remove rsh `````` zypper remove rsh ``` |
|Zakázání protokolu SMB v1 pomocí serveru Samba<br /><sub>(185)</sub> |Popis: protokol SMB v1 má dobře známé a závažné chyby zabezpečení a nešifruje data při přenosu. Pokud se musí použít k přepsání obchodních důvodů, důrazně doporučujeme, abyste zjistili, že pro použití tohoto protokolu se budou identifikovat další omezení.  |Pokud aplikace Samba není spuštěná, odeberte balíček, jinak by měl být řádek v části [Global] v/etc/samba/SMB.conf: min Protocol = SMB2 nebo spusťte/opt/Microsoft/omsagent/plugin/omsremediate-r set-SMB-min-Version. |

> [!NOTE]
> Dostupnost konkrétního Azure Policy nastavení konfigurace hosta se může lišit v Azure Government a dalších národních cloudech.

## <a name="next-steps"></a>Další kroky

Další články o Azure Policy a konfiguraci hostů:

- [Azure Policy konfiguraci hosta](../concepts/guest-configuration.md).
- Přehled [dodržování legislativních předpisů](../concepts/regulatory-compliance.md) .
- Podívejte se na další příklady na [Azure Policy Samples](./index.md).
- Projděte si [Vysvětlení efektů zásad](../concepts/effects.md).
- Přečtěte si, jak [opravit prostředky, které nedodržují předpisy](../how-to/remediate-resources.md).
